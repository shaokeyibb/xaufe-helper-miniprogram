<!--pages/utilities/gp_calc/gp_calc.wxml-->
<view class="page-view">
  <mp-toptips msg="{{error}}" type="error" show="{{error}}"></mp-toptips>
  <block wx:if="{{gpa && emotion}}">
    <view class="gpa-card">
      <view class="gpa-card__title">
        <text class="gpa-card__title__emoji">{{emotion.emoji}}</text>
        <text class="gpa-card__title__text">{{emotion.text}}</text>
      </view>
      <view class="gpa-card__main">
        你从入学至今的 GPA（平均学分绩点）是 <text class="gpa-card__main__grade" style="color: {{emotion.color}};">{{gpa}}</text> 分
      </view>
      <view class="gpa-card__description">
        <text>{{emotion.description}}</text>
      </view>
    </view>
    <view class="score-card best-score-card">
      <view class="score-card__title">
        最给你涨分的五门课程
      </view>
      <view class="score-card__main">
        <view wx:for="{{bestScores}}">
          Top{{index+1}} {{item.kcmc}}: {{item.cj}} 分
        </view>
      </view>
    </view>
    <view class="score-card worst-score-card">
      <view class="score-card__title">
        最拖你后腿的五门课程
      </view>
      <view class="score-card__main">
        <view wx:for="{{worstScores}}">
          Top{{index+1}} {{item.kcmc}}: {{item.cj}} 分
        </view>
      </view>
    </view>
    <view class="generate-time-card weui-footer weui-footer_fixed-bottom">
      <view class="weui-footer__text">计算数据截至：{{time}}，结果仅供参考。</view>
    </view>
  </block>
</view>